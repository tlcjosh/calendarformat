<!DOCTYPE html>
<html>
<head>
    <title>Trinity Lutheran Church Calendar Reformat</title>
    
    <!-- stylesheets -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="normalize.css">
    <link rel="stylesheet" type="text/css" href="calendarformat.css">
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
</head>
<body>
    
    <div class="content_wrap">
        <section id="dates">
            <form id="date_form">
                <label for="date_start">Start date:</label>
                <input type="text" name="date_start" id="date_start" placeholder="Start date (yyyy-mm-dd)" />

                <label for="date_end">End date:</label>
                <input type="text" name="date_end" id="date_end" placeholder="End date (yyyy-mm-dd)" />
                <button id="form_submit">Look it up.</button>
            </form>
            <span class="error"></span>
        </section>

        <hr />
        
        <section id="calendar">
           
        </section>
    </div>

    <!-- templates -->
    <script type="text" id="event_row_template">
        <div class="event_row" <% if (cancelled) { %> style="text-decoration:line-through" <% } %>>
            <div class="time">
                <div class="event_time">
                    <% if (time_start) { %>
                        <span class="time_start"><%= time_start %></span> to <span class="time_end"><%= time_end %></span>
                    <% } else { %>
                        <span class="time_start">All Day</span>
                    <% } %>
                </div>
                <div class="access_time">
                    <% if (time_setup) { %>
                    (<span class="time_setup"><%= time_setup %></span> to <span class="time_breakdown"><%= time_breakdown %></span>)
                    <% } %>
                </div>
            </div>
            <div class="title">
                <%= title %>
            </div>
            <div class="locations">
                <%= locations %>
            </div>
        </div>
    </script>

    <script type="text" id="day_template">
        <div class="date_section">
            <h1>
                <svg preserveAspectRatio="xMidYMid meet" data-bbox="0 0 1500 287.27" viewBox="0 0 1500 287.27" xmlns="http://www.w3.org/2000/svg" data-type="color" role="presentation" aria-hidden="true" aria-label="">
                    <g>
                        <path d="M156.83 10.51c16.82 13.1 30.83 29.84 40.74 48.71 11.21 21.36 17.14 45.5 17.14 69.82 0 .67 0 1.33-.01 2-18.45-6.92-37.86-10.42-57.87-10.42s-39.42 3.5-57.87 10.42c0-.67-.01-1.33-.01-2 0-24.32 5.93-48.46 17.14-69.82 9.91-18.88 23.92-35.61 40.74-48.71m0-10.51c-40.13 28.68-66.3 75.79-66.3 129.04 0 4.84.22 9.64.64 14.37 19.99-9.23 42.22-14.37 65.66-14.37s45.68 5.14 65.66 14.37c.42-4.73.64-9.53.64-14.37 0-53.25-26.18-100.36-66.3-129.04" fill="#863d97" data-color="1"></path>
                        <path d="M84.32 156.35a166.53 166.53 0 0 0 58.02 101.19c-23.1 13.98-49.39 21.31-76.68 21.31-19.66 0-38.68-3.76-56.62-11.18 6.12-46.91 34.24-88.32 75.28-111.32m6.85-12.94C41.09 166.52 5.16 215.25 0 272.9c19.99 9.23 42.22 14.37 65.66 14.37 33.98 0 65.44-10.81 91.17-29.2-36.48-26.07-61.42-67.36-65.66-114.66" fill="#3c7d87" data-color="2"></path>
                        <path d="M229.33 156.35c41.04 23 69.16 64.41 75.28 111.32-17.94 7.43-36.95 11.18-56.62 11.18-27.3 0-53.58-7.34-76.68-21.31a166.53 166.53 0 0 0 58.02-101.19m-6.84-12.94c-4.24 47.3-29.19 88.59-65.66 114.66 25.73 18.39 57.19 29.2 91.17 29.2 23.44 0 45.68-5.14 65.66-14.37-5.17-57.64-41.09-106.38-91.17-129.49" fill="#ac5427" data-color="3"></path>
                        <path d="M160.56 138.79v92.58a7.46 7.46 0 0 1-7.46 7.46v-92.58a7.46 7.46 0 0 1 7.46-7.46" fill="#353535" data-color="4"></path>
                        <path d="M128.87 165.4h48.43c4.14 0 7.49 3.36 7.49 7.49h-48.43c-4.14 0-7.49-3.36-7.49-7.49" fill="#353535" data-color="4"></path>
                        <path d="M380.17 26.01h63.99v20.13h-20.64v52.12h-22.71V46.14h-20.64z" fill="#353535" data-color="4"></path>
                        <path d="M486.49 26.01c21.16 0 30.24 10.42 30.24 24.77 0 9.6-4.03 17.34-13 21.57l17.34 25.91h-26.32l-12.9-22.71h-3.1v22.71h-22.71V26.01zm-7.74 19.09v13.42h5.68c5.68 0 8.57-2.48 8.57-6.71s-2.89-6.71-8.57-6.71z" fill="#353535" data-color="4"></path>
                        <path d="M556.16 26.01v72.25h-23.22V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M643.9 26.01v75.86l-46.96-36.33v32.72h-21.67V22.39l46.96 36.33V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M686.22 26.01v72.25H663V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M698.09 26.01h63.99v20.13h-20.64v52.12h-22.71V46.14h-20.64z" fill="#353535" data-color="4"></path>
                        <path d="m844.66 26.01-26.01 43.87v28.38h-23.22V70.08l-26.11-44.07h26.32l11.35 23.33 11.35-23.33z" fill="#353535" data-color="4"></path>
                        <path d="M916.33 26.01v53.15h29.42v19.09h-52.12V26.01h22.71Z" fill="#353535" data-color="4"></path>
                        <path d="M979.81 26.01v46.45c0 5.78 2.89 9.81 9.08 9.81s9.08-4.03 9.08-9.81V26.01h22.71v48.51c0 20.54-14.76 27.87-31.79 27.87s-31.79-7.33-31.79-27.87V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M1032.05 26.01h63.99v20.13h-20.64v52.12h-22.71V46.14h-20.64z" fill="#353535" data-color="4"></path>
                        <path d="M1130.62 26.01v24.77h25.8V26.01h22.71v72.25h-22.71V70.91h-25.8v27.35h-22.71V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M1250.35 26.01v18.06h-30.45v8.26h28.38v17.55h-28.38V80.2h30.45v18.06h-52.12V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M1298.87 26.01c21.16 0 30.24 10.42 30.24 24.77 0 9.6-4.03 17.34-13 21.57l17.34 25.91h-26.32l-12.9-22.71h-3.1v22.71h-22.71V26.01zm-7.75 19.09v13.42h5.68c5.68 0 8.57-2.48 8.57-6.71s-2.89-6.71-8.57-6.71z" fill="#353535" data-color="4"></path>
                        <path d="M1388.15 88.97h-19.71l-5.06 9.29h-25.8l40.77-77.41 40.77 77.41h-25.8l-5.16-9.29Zm-16-16.31h12.39l-6.19-13.83-6.19 13.83Z" fill="#353535" data-color="4"></path>
                        <path d="M1499.11 26.01v75.86l-46.96-36.33v32.72h-21.67V22.39l46.96 36.33V26.01z" fill="#353535" data-color="4"></path>
                        <path d="M424.72 179.16c10.22 0 16-4.54 20.54-8.88v23.33c-5.68 3.92-11.66 6.92-22.19 6.92-25.19 0-41.8-15.07-41.8-38.19s16.62-38.19 41.8-38.19c10.53 0 16.51 2.99 22.19 6.91v23.33c-4.54-4.34-10.32-8.88-20.54-8.88s-18.48 5.68-18.48 16.82 8.36 16.82 18.48 16.82Z" fill="#353535" data-color="4"></path>
                        <path d="M480.15 126.21v24.77h25.8v-24.77h22.71v72.25h-22.71v-27.35h-25.8v27.35h-22.71v-72.25z" fill="#353535" data-color="4"></path>
                        <path d="M564.07 126.21v46.45c0 5.78 2.89 9.81 9.08 9.81s9.08-4.03 9.08-9.81v-46.45h22.71v48.51c0 20.54-14.76 27.87-31.79 27.87s-31.79-7.33-31.79-27.87v-48.51z" fill="#353535" data-color="4"></path>
                        <path d="M648.09 126.21c21.16 0 30.24 10.42 30.24 24.77 0 9.6-4.02 17.34-13 21.57l17.34 25.91h-26.32l-12.9-22.71h-3.1v22.71h-22.71v-72.25zm-7.74 19.09v13.42h5.68c5.68 0 8.57-2.48 8.57-6.71s-2.89-6.71-8.57-6.71z" fill="#353535" data-color="4"></path>
                        <path d="M727.98 179.16c10.22 0 16-4.54 20.54-8.88v23.33c-5.68 3.92-11.66 6.92-22.19 6.92-25.18 0-41.8-15.07-41.8-38.19s16.62-38.19 41.8-38.19c10.53 0 16.51 2.99 22.19 6.91v23.33c-4.54-4.34-10.32-8.88-20.54-8.88s-18.47 5.68-18.47 16.82 8.36 16.82 18.47 16.82Z" fill="#353535" data-color="4"></path>
                        <path d="M783.41 126.21v24.77h25.8v-24.77h22.71v72.25h-22.71v-27.35h-25.8v27.35H760.7v-72.25z" fill="#353535" data-color="4"></path>
                        <path d="M923.31 193.61c-6.71 3.92-14.55 6.4-23.22 6.4-15.07 0-26.32-7.84-26.32-21.16 0-11.25 8.88-16.72 17.03-19.92-4.64-5.26-7.53-9.6-7.53-15.79 0-8.67 8.98-19.09 24.98-19.09 15.07 0 22.91 9.6 22.91 18.27 0 9.91-5.26 12.9-15.59 19.71l9.5 9.91c2.89-2.99 5.37-6.5 7.64-10.22l12.9 10.42a68.7 68.7 0 0 1-9.29 11.56l14.24 14.76h-22.71zm-20.12-10.12c2.99 0 5.99-.72 8.88-1.96l-11.15-11.77c-3.51 1.55-6.19 3.41-6.19 7.12 0 3.2 2.27 6.61 8.46 6.61m3.4-30.86c4.64-2.68 6.92-5.57 6.92-8.05 0-2.06-2.17-4.95-5.47-4.95-4.13 0-5.78 2.99-5.78 5.06 0 2.37 1.55 4.75 4.34 7.95Z" fill="#353535" data-color="4"></path>
                        <path d="M1015.9 182.56c3.61 0 6.4-1.34 6.4-4.54 0-2.79-1.86-3.92-13.62-8.46-7.02-2.68-19.4-9.08-19.4-23.64s12.69-21.78 27.76-21.78c16.31 0 25.39 8.77 29.31 16.1l-16.82 9.29c-3.41-5.06-7.84-7.02-11.77-7.02-3.2 0-5.37 1.03-5.37 3.41 0 4.33 7.02 5.88 15.48 8.88 11.56 4.03 18.47 11.35 18.47 22.5 0 16.1-14.55 24.26-29.42 24.26s-28.38-8.36-33.23-19.4l15.28-11.15c4.13 7.33 10.42 11.56 16.93 11.56Z" fill="#353535" data-color="4"></path>
                        <path d="M1095.28 179.16c10.22 0 16-4.54 20.54-8.88v23.33c-5.68 3.92-11.66 6.92-22.19 6.92-25.18 0-41.8-15.07-41.8-38.19s16.62-38.19 41.8-38.19c10.53 0 16.51 2.99 22.19 6.91v23.33c-4.54-4.34-10.32-8.88-20.54-8.88s-18.48 5.68-18.48 16.82 8.36 16.82 18.48 16.82Z" fill="#353535" data-color="4"></path>
                        <path d="M1150.71 126.21v24.77h25.8v-24.77h22.71v72.25h-22.71v-27.35h-25.8v27.35H1128v-72.25z" fill="#353535" data-color="4"></path>
                        <path d="M1248.56 124.14c23.12 0 40.25 15.07 40.25 38.19s-16.62 39.22-40.25 39.22-40.25-16.1-40.25-39.22 17.65-38.19 40.25-38.19m0 55.94c10.11 0 16.2-7.12 16.2-17.75s-5.57-17.75-16.2-17.75-16.2 7.12-16.2 17.75 6.09 17.75 16.2 17.75" fill="#353535" data-color="4"></path>
                        <path d="M1334.02 124.14c23.12 0 40.25 15.07 40.25 38.19s-16.62 39.22-40.25 39.22-40.25-16.1-40.25-39.22 17.65-38.19 40.25-38.19m0 55.94c10.11 0 16.2-7.12 16.2-17.75s-5.57-17.75-16.2-17.75-16.2 7.12-16.2 17.75 6.09 17.75 16.2 17.75" fill="#353535" data-color="4"></path>
                        <path d="M1406.07 126.21v53.15h29.42v19.09h-52.12V126.2h22.71Z" fill="#353535" data-color="4"></path>
                        <path d="M1469.55 182.56c3.61 0 6.4-1.34 6.4-4.54 0-2.79-1.86-3.92-13.62-8.46-7.02-2.68-19.4-9.08-19.4-23.64s12.69-21.78 27.76-21.78c16.31 0 25.39 8.77 29.31 16.1l-16.82 9.29c-3.41-5.06-7.84-7.02-11.77-7.02-3.2 0-5.37 1.03-5.37 3.41 0 4.33 7.02 5.88 15.48 8.88 11.56 4.03 18.47 11.35 18.47 22.5 0 16.1-14.55 24.26-29.42 24.26s-28.38-8.36-33.23-19.4l15.28-11.15c4.13 7.33 10.42 11.56 16.93 11.56Z" fill="#353535" data-color="4"></path>
                        <path d="M753.55 264.71h-9.31v-34.29h8.82c6.12 0 10.19 2.74 10.19 8.57 0 3.53-2.16 5.93-5.68 7.01 4.51.93 7.64 3.72 7.64 8.67 0 6.81-5.05 10.04-11.66 10.04m-5.15-30.62v10.19h4.65c3.43 0 6.03-1.81 6.03-5.05s-2.6-5.14-6.03-5.14zm5.15 26.95c4.41 0 7.49-2.4 7.49-6.61s-3.09-6.52-7.49-6.52h-5.15v13.13z" fill="#ac5427" data-color="3"></path>
                        <path d="M800.96 230.42v3.92h-15.43v9.8h14.45v3.92h-14.45v12.74h15.43v3.92h-19.6v-34.29h19.6Z" fill="#ac5427" data-color="3"></path>
                        <path d="M822.27 230.42v30.37h13.47v3.92H818.1v-34.29z" fill="#ac5427" data-color="3"></path>
                        <path d="M863.91 229.93c9.99 0 17.39 7.64 17.39 17.64s-7.4 17.64-17.39 17.64-17.39-7.64-17.39-17.64 7.4-17.64 17.39-17.64m0 31.11c7.49 0 12.98-5.73 12.98-13.47s-5.49-13.47-12.98-13.47-12.98 5.73-12.98 13.47 5.49 13.47 12.98 13.47" fill="#ac5427" data-color="3"></path>
                        <path d="M927.1 230.42v36.01l-25.96-27.24v25.52h-4.16V228.7l25.96 27.24v-25.52z" fill="#ac5427" data-color="3"></path>
                        <path d="M960.65 247.32h15.92c0 9.5-5.93 17.88-16.41 17.88s-17.39-7.4-17.39-17.64 7.4-17.64 17.39-17.64c6.32 0 11.32 2.55 14.26 7.3l-2.94 2.69c-2.16-3.62-6.07-5.83-11.32-5.83-7.25 0-12.98 5.49-12.98 13.47s5.73 13.47 12.98 13.47c6.81 0 10.78-4.46 11.9-9.8h-11.41v-3.92Z" fill="#ac5427" data-color="3"></path>
                        <path d="M996.66 230.42v34.29h-4.16v-34.29z" fill="#ac5427" data-color="3"></path>
                        <path d="M1044.42 230.42v36.01l-25.96-27.24v25.52h-4.16V228.7l25.96 27.24v-25.52z" fill="#ac5427" data-color="3"></path>
                        <path d="M1077.97 247.32h15.92c0 9.5-5.93 17.88-16.41 17.88s-17.39-7.4-17.39-17.64 7.4-17.64 17.39-17.64c6.32 0 11.32 2.55 14.26 7.3l-2.94 2.69c-2.16-3.62-6.07-5.83-11.32-5.83-7.25 0-12.98 5.49-12.98 13.47s5.73 13.47 12.98 13.47c6.81 0 10.78-4.46 11.9-9.8h-11.41v-3.92Z" fill="#ac5427" data-color="3"></path>
                        <path d="M1192.65 264.71h-9.31v-34.29h8.82c6.12 0 10.19 2.74 10.19 8.57 0 3.53-2.16 5.93-5.68 7.01 4.51.93 7.64 3.72 7.64 8.67 0 6.81-5.05 10.04-11.66 10.04m-5.15-30.62v10.19h4.65c3.43 0 6.03-1.81 6.03-5.05s-2.6-5.14-6.03-5.14zm5.15 26.95c4.41 0 7.49-2.4 7.49-6.61s-3.09-6.52-7.49-6.52h-5.14v13.13z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1240.06 230.42v3.92h-15.43v9.8h14.45v3.92h-14.45v12.74h15.43v3.92h-19.6v-34.29h19.6Z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1272.39 261.04c4.85 0 8.62-2.06 11.02-5.1v5.49c-2.89 2.55-6.03 3.77-11.02 3.77-9.5 0-17.15-7.4-17.15-17.64s7.64-17.64 17.15-17.64c5 0 8.13 1.23 11.02 3.77v5.49c-2.4-3.04-6.17-5.1-11.02-5.1-6.76 0-12.74 5.49-12.74 13.47s5.98 13.47 12.74 13.47Z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1315.99 229.93c9.99 0 17.39 7.64 17.39 17.64s-7.4 17.64-17.39 17.64-17.39-7.64-17.39-17.64 7.4-17.64 17.39-17.64m0 31.11c7.49 0 12.98-5.73 12.98-13.47s-5.49-13.47-12.98-13.47-12.98 5.73-12.98 13.47 5.49 13.47 12.98 13.47" fill="#3c7d87" data-color="2"></path>
                        <path d="M1351.26 264.71h-4.16l4.16-36.01 13.72 24.84 13.72-24.84 4.17 36.01h-4.17l-2.55-23.17-11.17 19.99-11.17-19.99z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1402.69 230.42v34.29h-4.17v-34.29z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1450.46 230.42v36.01l-25.96-27.24v25.52h-4.17V228.7l25.97 27.24v-25.52z" fill="#3c7d87" data-color="2"></path>
                        <path d="M1484.01 247.32h15.92c0 9.5-5.93 17.88-16.41 17.88s-17.39-7.4-17.39-17.64 7.4-17.64 17.39-17.64c6.32 0 11.32 2.55 14.26 7.3l-2.94 2.69c-2.16-3.62-6.07-5.83-11.32-5.83-7.25 0-12.98 5.49-12.98 13.47s5.73 13.47 12.98 13.47c6.81 0 10.78-4.46 11.9-9.8h-11.41v-3.92Z" fill="#3c7d87" data-color="2"></path>
                        <path d="M389.79 264.71h-9.31v-34.29h8.82c6.12 0 10.19 2.74 10.19 8.57 0 3.53-2.16 5.93-5.68 7.01 4.51.93 7.64 3.72 7.64 8.67 0 6.81-5.05 10.04-11.66 10.04m-5.15-30.62v10.19h4.65c3.43 0 6.03-1.81 6.03-5.05s-2.6-5.14-6.03-5.14zm5.15 26.94c4.41 0 7.5-2.4 7.5-6.61s-3.09-6.52-7.5-6.52h-5.14v13.13z" fill="#863d97" data-color="1"></path>
                        <path d="M421.53 230.41v23.03c0 4.7 2.6 7.84 7.49 7.84s7.5-3.14 7.5-7.84v-23.03h4.16v23.03c0 6.81-4.56 11.76-11.66 11.76s-11.66-4.95-11.66-11.76v-23.03h4.16Z" fill="#863d97" data-color="1"></path>
                        <path d="M462.24 230.41v34.29h-4.16v-34.29z" fill="#863d97" data-color="1"></path>
                        <path d="M484.03 230.41v30.37h13.47v3.92h-17.64v-34.29h4.16Z" fill="#863d97" data-color="1"></path>
                        <path d="M511.71 264.71v-34.29H522c10 0 17.15 6.91 17.15 17.15S532 264.72 522 264.72h-10.29Zm4.16-30.13v25.96h6.12c7.74 0 12.98-5 12.98-12.98s-5.24-12.98-12.98-12.98z" fill="#863d97" data-color="1"></path>
                        <path d="M558.98 230.41v34.29h-4.16v-34.29z" fill="#863d97" data-color="1"></path>
                        <path d="M606.74 230.41v36.01l-25.97-27.24v25.52h-4.16v-36.01l25.96 27.24v-25.52z" fill="#863d97" data-color="1"></path>
                        <path d="M640.3 247.32h15.92c0 9.5-5.93 17.88-16.41 17.88s-17.39-7.4-17.39-17.64 7.4-17.64 17.39-17.64c6.32 0 11.32 2.55 14.26 7.3l-2.94 2.69c-2.16-3.62-6.08-5.83-11.32-5.83-7.25 0-12.98 5.49-12.98 13.47s5.73 13.47 12.98 13.47c6.81 0 10.78-4.46 11.9-9.8H640.3v-3.92Z" fill="#863d97" data-color="1"></path>
                        <path d="M1136.82 230.37h1.73v33.5c0 .46-.37.83-.83.83h-1.73v-33.5c0-.46.37-.83.83-.83" fill="#353535" data-color="4"></path>
                        <path d="M1127.67 241.23v-1.74h18.36c.46 0 .84.37.84.84v1.74h-18.36c-.46 0-.84-.37-.84-.84" fill="#353535" data-color="4"></path>
                        <path d="M698.7 230.37h1.73v33.5c0 .46-.37.83-.83.83h-1.73v-33.5c0-.46.37-.83.83-.83" fill="#353535" data-color="4"></path>
                        <path d="M689.55 241.23v-1.74h18.36c.46 0 .84.37.84.84v1.74h-18.36c-.46 0-.84-.37-.84-.84" fill="#353535" data-color="4"></path>
                    </g>
                </svg>
                <%= date %>
                <span>Facility Calendar</span>
            </h1>
            <%= rows %>
        </div>
    </script>


    <!-- scripts -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://underscorejs.org/underscore-min.js"></script>
    <script type="text/javascript" src="https://momentjs.com/downloads/moment.min.js"></script>
    <script type="text/javascript" src="calendarformat.js"></script>


</body>



</html>
